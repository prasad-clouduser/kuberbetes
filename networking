
We have two system A and B. 
how does System A reach System B. 
We connect them to a switch. 
Switch creates a network containing the two systems. 

To connect them to a switch we need an interface on each host. 
to see the interfaces on host, we use ip link command. 
we use here eth0 to connect to the switch. 

once ip address assigned to system, computers can communicate with each other through the switch. 
switch can only enable communication within network. 
which means it can receive packets from a host on the network and deliver it to the other systems within same network. 

A router helps connect two networks together. 
router - think of it as another server with many network ports. 
since it connects to the two separate networks, it gets two IPs assigned. router gets two IPs. in the first network and second network. 

To confgure a gateway on system B (which is in network 1.0)  to reach the systems on network 2.0, use the ip route add command and specificy that you can reach the 
2.0 network via thorough the door or gateway at 192.168.1.1 

Suppose system need access to the internet. 

1. You connect the router to the internet. (ip route add 172.217.194.0/24 via 192.168.2.1) 
2. Then add a new route in yur routing table to route all traffic to the network 172.217.194 through your router. 


ip route add default via 192.168.2.1
This way any request to any network outside of your existing network goes to this particular router. (instead of creatign multiple routes for various network in route table)

All you need is a single routing table entry with the default gateway set to the router's IP address.
instead of default you could also say 0.0.0.0 (any IP destination) 

0.0.0.0 field in the gateway field indicatees that you don't need a gateway, for ex; to access any device in the 192.168.2.0 network it does not need a gateway because it is
in its own network. 

two routers present? 

1. one router should be used to connect to the public networks. 
2. one router is used for connecting to the internal private network. 
Total two routes present. 

In linux packets are not forwarded from one interface to the next.
for example packets received on eth0 on host B are not forwared to elsewhere through eth1 
this is this way for security reason for ex: if you had eth0 connected to your private network and eth1 to a public network, we don't want anyone from public network 
to easily send msg to private network. 

ip addr command is to see the IP address assigned to those interfaces. 
ip addr add command is to set IP addresses on the interfaces. 

=====================

How system know where the router is there on the network to send the packets through?
The router is just another device on the network, there could be many other such devices. 
thats where we configure the systems with a gateway or route. 
if the network was a room, the gateway is a door to the outside world to the other networks or to the internet. 
the systeems need to know where the door is to go through that. run the route cmd to see that. 





